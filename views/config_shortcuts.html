<!doctype html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scoreboard - Configurações</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <link rel="stylesheet" href="../resources/css/config.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Custom Css -->
    <link rel="stylesheet" href="../resources/css/custom.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.js"
        integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>

    <!-- Popper -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"
        integrity="sha512-2rNj2KJ+D8s1ceNasTIex6z4HWyOnEYLVC3FigGOmyQCZc2eBXKgOxQmo3oKLHyfcj53uz4QMsRCWNbLd32Q1g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Configuration Css -->
    <link rel="stylesheet" href="../resources/css/configuration.css">

    <style>
        @font-face {
            font-family: 'Gobold';
            src: url('../resources/fonts/gobold_bold.otf') format('truetype');
        }

        html {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            overflow: hidden;
        }

        body {
            /* overflow: hidden; */
            font-family: 'Gobold';
            margin: 0;
            padding: 0;
            width: 100% !important;
        }

        .input-simple {
            border: none !important;
            padding: 7px 9px !important;
            text-align: center;
            border-radius: 10px;
            margin-top: 7px !important;
            cursor: pointer;
        }

        .input-simple:focus {
            outline: none;
            background-color: rgb(230, 202, 166);
            color: rgb(0, 0, 0);
        }

        .modal-backdrop.show {
            width: 100% !important;
            height: 100% !important;
        }
    </style>
</head>

<body style="height: 100vh;">
    <div class="container-fluid" style="height: 93%; padding-left: 0; padding-right: 0;">
        <div class="row" style="height: 100%;">
            <div class="col-12">

                <div id="opcoesPrincipais" style="margin-top: 12px; margin-left: 10px;">
                    <button class="tab-button" onclick="openTab('configuracoes', this)">Jogo setup</button>
                    <button class="tab-button" onclick="openTab('config_equipas', this)">Equipas</button>
                    <button class="tab-button" onclick="openTab('config_monitores', this)">Monitores</button>
                    <button class="tab-button" onclick="openTab('config_fotos', this)">Vídeo/Fotos</button>
                    <button class="tab-button selected">Shortcuts</button>
                    <button class="tab-button" onclick="openTab('config_cores', this)">Cores</button>
                    <button class="tab-button" onclick="openTab('config_sons', this)">Sons</button>
                    <button class="tab-button" onclick="openTab('config_banner_color', this)">Banner Color</button>
                    <button class="tab-button" onclick="retornar();">Voltar</button>
                </div>

                <div id="Shortcuts" class="tab-panel">
                    <div class="container-fluid">

                        <div class="row" style="margin-left: 170px;">

                            <div class="col-4">

                                <div style="width: 230px;">
                                    <div class="d-flex justify-content-start" style="margin-bottom: 8px;">
                                        <span style="font-weight:bold;font-size: 22px;">Visitada</span>
                                    </div>
                                    <table style="width: 100%;">
                                        <tbody>
                                            <tr>
                                                <td><span
                                                        style="font-weight:bold;margin-right: 8px; white-space: nowrap;">Score
                                                        +1:</span>
                                                </td>
                                                <td><input id="inputKey1" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey1')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span
                                                        style="font-weight:bold;margin-right: 8px; white-space: nowrap;">Score
                                                        -1:</span>
                                                </td>
                                                <td><input id="inputKey2" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey2')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span
                                                        style="font-weight:bold;margin-right: 8px; white-space: nowrap;">Fouls
                                                        +1:</span>
                                                </td>
                                                <td><input id="inputKey3" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey3')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span
                                                        style="font-weight:bold;margin-right: 8px; white-space: nowrap;">Fouls
                                                        -1:</span>
                                                </td>
                                                <td><input id="inputKey4" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey4')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>

                            <div class="col-4">

                                <div style="width: 230px;">
                                    <div class="d-flex justify-content-start" style="margin-bottom: 8px;">
                                        <span
                                            style="font-weight:bold;font-size: 22px; white-space: nowrap;">Visitante</span>
                                    </div>
                                    <table style="width: 100%;">
                                        <tbody>
                                            <tr>
                                                <td><span
                                                        style="font-weight:bold;margin-right: 8px;white-space: nowrap;">Resultado
                                                        +1</span>
                                                </td>
                                                <td><input id="inputKey5" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey5')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span
                                                        style="font-weight:bold;margin-right: 8px;white-space: nowrap;">Resultado
                                                        -1</span>
                                                </td>
                                                <td><input id="inputKey6" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey6')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span
                                                        style="font-weight:bold;margin-right: 8px;white-space: nowrap;">Falta
                                                        +1</span>
                                                </td>
                                                <td><input id="inputKey7" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey7')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span
                                                        style="font-weight:bold;margin-right: 8px;white-space: nowrap;">Falta
                                                        -1</span>
                                                </td>
                                                <td><input id="inputKey8" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey8')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>

                            <div class="col-4">

                                <div style="width: 230px;">
                                    <div class="d-flex justify-content-start" style="margin-bottom: 8px;">
                                        <span style="font-weight:bold;font-size: 22px;white-space: nowrap;">Relógio
                                            Principal</span>
                                    </div>
                                    <table style="width: 100%;">
                                        <tbody>
                                            <tr>
                                                <td><span
                                                        style="font-weight:bold;margin-right: 8px;white-space: nowrap;">Star
                                                        /
                                                        Stop</span></td>
                                                <td><input id="inputKey9" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey9')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Reset</span></td>
                                                <td><input id="inputKey10" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey10')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>

                        </div>

                        <div class="row" style="margin-top: 10px;margin-left: 170px;">

                            <div class="col-4">

                                <div style="width: 230px;">
                                    <div class="d-flex justify-content-start" style="margin-bottom: 8px;">
                                        <span style="font-weight:bold;font-size: 22px;">Tempo de ataque</span>
                                    </div>
                                    <table style="width: 100%;">
                                        <tbody>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Reset</span></td>
                                                <td><input id="inputKey11" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey11')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>

                            <div class="col-4">

                                <div style="width: 230px;">
                                    <div class="d-flex justify-content-start" style="margin-bottom: 8px;">
                                        <span style="font-weight:bold;font-size: 22px;">Periodo</span>
                                    </div>
                                    <table style="width: 100%;">
                                        <tbody>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Periodo +1:</span>
                                                </td>
                                                <td><input id="inputKey12" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey12')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Periodo -1:</span>
                                                </td>
                                                <td><input id="inputKey13" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey13')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                            <div class="col-4">
                                <div style="width: 230px;">
                                    <div class="d-flex justify-content-start" style="margin-bottom: 8px;">
                                        <span style="font-weight:bold;font-size: 22px;">Desconto de Tempo</span>
                                    </div>
                                    <table style="width: 100%;">
                                        <tbody>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Visitada
                                                        +1:</span>
                                                </td>
                                                <td><input id="inputKey26" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey26')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Visitada
                                                        -1:</span></td>
                                                <td><input id="inputKey27" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey27')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Visitante
                                                        +1:</span></td>
                                                <td><input id="inputKey28" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey28')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Visitante
                                                        -1:</span></td>
                                                <td><input id="inputKey29" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey29')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-4 d-none">

                                <div style="width: 230px;">
                                    <div class="d-flex justify-content-center" style="margin-bottom: 8px;">
                                        <span style="font-weight:bold;font-size: 22px;"></span>
                                    </div>
                                    <table style="width: 100%;" class="d-none">
                                        <tbody>
                                            <tr>
                                                <td><span style=" font-weight:bold;margin-right: 8px;">Remove
                                                        penalty:</span></td>
                                                <td><input id="inputKey22" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey22')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Timeout 1:</span>
                                                </td>
                                                <td><input id="inputKey23" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey23')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>

                        </div>

                        <div class="row" style="margin-top: 7px; margin-left: 170px;">

                            <div class="col-4">

                                <div class="d-none" style="width: 230px;">
                                    <div class="d-flex justify-content-center" style="margin-bottom: 8px;">
                                        <span style="font-weight:bold;font-size: 22px;">Goal</span>
                                    </div>
                                    <table style="width: 100%;">
                                        <tbody>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Team 1:</span>
                                                </td>
                                                <td><input id="inputKey14" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey14')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Team 2:</span>
                                                </td>
                                                <td><input id="inputKey15" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey15')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>

                            <div class="col-4">

                                <div style="width: 230px;">
                                    <div class="d-flex justify-content-start" style="margin-bottom: 8px;">
                                        <span style="font-weight:bold;font-size: 22px;">Sons</span>
                                    </div>
                                    <table style="width: 100%;">
                                        <tbody>
                                            <tr class="d-none">
                                                <td><span style="font-weight:bold;margin-right: 8px;">Clear
                                                        value:</span></td>
                                                <td><input id="inputKey16" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey16')"></i></td>
                                            </tr>
                                            <tr class="d-none">
                                                <td><span style="font-weight:bold;margin-right: 8px;">New Game:</span>
                                                </td>
                                                <td><input id="inputKey17" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey17')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Hom sound:</span>
                                                </td>
                                                <td><input id="inputKey18" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey18')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Buzzer
                                                        sound:</span></td>
                                                <td><input id="inputKey19" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey19')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                            <div class="col-4 d-flex justify-content-center align-items-end">
                                <button id="btn-cancelar-config-shortcuts" class="btn-acoes d-none">Cancelar</button>
                                <button id="btn-confirma-config-shortcuts" class="btn-acoes"
                                    style="margin-left: 8px; height: 40px;">Confirmar</button>
                            </div>
                            <div class="col-4 d-none">

                                <div style="width: 230px;">
                                    <div class="d-flex justify-content-center" style="margin-bottom: 8px;">
                                        <span style="font-weight:bold;font-size: 22px;"></span>
                                    </div>
                                    <table style="width: 100%;">
                                        <tbody>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Timeout 2:</span>
                                                </td>
                                                <td><input id="inputKey24" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey24')"></i></td>
                                            </tr>
                                            <tr>
                                                <td><span style="font-weight:bold;margin-right: 8px;">Show period
                                                        time/time of day:</span></td>
                                                <td><input id="inputKey25" class="input-simple" type="text"
                                                        style="width: 100px;" onkeydown="search(this)" readonly></input>
                                                </td>
                                                <td><i class="fa fa-close" style="margin-left: 6px;cursor: pointer;"
                                                        onclick="limpaInputKey('inputKey25')"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>

                        </div>



                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Definição de Variaveis -->
    <script>
        const sqlite3 = require('sqlite3').verbose();
        const { ipcRenderer } = require('electron');
        document.addEventListener('keydown', function (event) {
            if (event.keyCode === 116) {
                // O código 116 corresponde à tecla F5
                location.reload();
            }
        });
        let widthWindowPad = 1570;
        let heightWindowPad = 870;
        document.body.style.zoom = 1;
        let oldWindowWidth = widthWindowPad;
        let oldWindowHeight = heightWindowPad;
        function calculateScale(width) {
            const widthIncrement = 1000;
            const scaleIncrement = 1;
            const maxScale = 4; // Define a escala máxima

            const widthDiff = width - widthWindowPad;
            let scaleFactor = Math.max(1 + (Math.floor(widthDiff / widthIncrement) * scaleIncrement), 1);
            scaleFactor = Math.min(scaleFactor, maxScale); // Limita a escala ao máximo definido
            console.log(scaleFactor);
            return scaleFactor;
        }

        function adjustZoom() {
            const baseWidth = 1570;
            const baseHeight = 870;
            const aspectRatio = window.innerWidth / window.innerHeight;
            const baseAspectRatio = baseWidth / baseHeight;
            let scale
            if (aspectRatio < baseAspectRatio) {
                scale = window.innerWidth / baseWidth;
                document.body.style.width = '100%';
            } else {
                scale = window.innerHeight / baseHeight;
                // document.body.style.width = (100 / (aspectRatio * 0.7)) + '%'; // Ajuste o valor 0.5 conforme necessário
            }
            document.body.style.zoom = scale;
            document.body.style.height = (window.innerHeight / scale) + 'px';
            document.body.style.alignItems = "center";
        }


        // Chama a função de ajuste de zoom quando o DOM estiver pronto
        document.addEventListener("DOMContentLoaded", function () {
            adjustZoom();
        });

        // Chama a função de ajuste de zoom sempre que a janela for redimensionada
        window.addEventListener("resize", function () {
            widthWindowPad = 1570;
            heightWindowPad = 870;
            document.body.style.zoom = 1;
            oldWindowWidth = widthWindowPad;
            oldWindowHeight = heightWindowPad;
            adjustZoom();
        });
    </script>

    <!-- Funções auxiliares -->
    <script>
        function getIntFormat(valueString) {
            var valueInt = parseInt(valueString);
            if (isNaN(valueInt)) {
                return 0;
            }
            return valueInt;
        }
    </script>

    <!-- Configuracoes -->
    <script>

        function search(elem) {
            elem.value = event.key;
            console.log(elem.value);
        }

        function limpaInputKey(elem) {
            document.getElementById(elem).value = "";
        }

        function subtrairPontuacao(elemento, limite = 0) {
            var pontuacao = elemento.parentElement.children[0].value;
            if (!pontuacao || typeof pontuacao === 'undefined') {
                pontuacao = 0;
            }

            pontuacao = parseInt(pontuacao);
            if (pontuacao <= limite) {
                return;
            }

            pontuacao = pontuacao - 1;
            elemento.parentElement.children[0].value = pontuacao;
        }

        function adicionarPontuacao(elemento, limite = 99) {
            var pontuacao = elemento.parentElement.children[0].value;
            if (!pontuacao || typeof pontuacao === 'undefined') {
                pontuacao = 0;
            }

            pontuacao = parseInt(pontuacao);
            if (pontuacao >= limite) {
                return;
            }

            pontuacao = pontuacao + 1;
            elemento.parentElement.children[0].value = pontuacao;
        }

        function subtrairPontuacaoById(elementoId, limite = 0) {
            var pontuacao = document.getElementById(elementoId).value;
            if (!pontuacao || typeof pontuacao === 'undefined') {
                pontuacao = 0;
            }

            pontuacao = parseInt(pontuacao);
            if (pontuacao <= limite) {
                return;
            }

            pontuacao = pontuacao - 1;
            document.getElementById(elementoId).value = pontuacao;
        }

        function adicionarPontuacaoById(elementoId, limite = 99) {
            var pontuacao = document.getElementById(elementoId).value;
            if (!pontuacao || typeof pontuacao === 'undefined') {
                pontuacao = 0;
            }

            pontuacao = parseInt(pontuacao);
            if (pontuacao >= limite) {
                return;
            }

            pontuacao = pontuacao + 1;
            document.getElementById(elementoId).value = pontuacao;
        }

        function limitaInput(elemento) {
            if (elemento.value > 99) {
                elemento.value = 99;
            }
        }

    </script>

    <!-- Configuracoes: Shortcuts -->
    <script>

        var configShortcuts;
        async function getConfigShortcuts() {
            var db = new sqlite3.Database('./scoreboard.sqlite');
            _ = await db.serialize(() => {
                db.all("SELECT * FROM config_shortcuts", (err, rows) => {
                    if (err) {
                        console.error(err.message);
                    }
                    configShortcuts = rows;
                    setConfigShortcuts();
                });
            });
            db.close();
        }

        function setConfigShortcuts() {

            console.log(configShortcuts);

            document.querySelector("#inputKey1").value = configShortcuts[0]["team1_score_add_1"] ? configShortcuts[0]["team1_score_add_1"] : "";
            document.querySelector("#inputKey2").value = configShortcuts[0]["team1_score_rem_1"] ? configShortcuts[0]["team1_score_rem_1"] : "";
            document.querySelector("#inputKey3").value = configShortcuts[0]["team1_fouls_add_1"] ? configShortcuts[0]["team1_fouls_add_1"] : "";
            document.querySelector("#inputKey4").value = configShortcuts[0]["team1_fouls_rem_1"] ? configShortcuts[0]["team1_fouls_rem_1"] : "";

            document.querySelector("#inputKey11").value = configShortcuts[0]["shotclock_reset"] ? configShortcuts[0]["shotclock_reset"] : "";

            document.querySelector("#inputKey14").value = configShortcuts[0]["goal_team_1"] ? configShortcuts[0]["goal_team_1"] : "";
            document.querySelector("#inputKey15").value = configShortcuts[0]["goal_team_2"] ? configShortcuts[0]["goal_team_2"] : "";

            document.querySelector("#inputKey5").value = configShortcuts[0]["team2_score_add_1"] ? configShortcuts[0]["team2_score_add_1"] : "";
            document.querySelector("#inputKey6").value = configShortcuts[0]["team2_score_rem_1"] ? configShortcuts[0]["team2_score_rem_1"] : "";
            document.querySelector("#inputKey7").value = configShortcuts[0]["team2_fouls_add_1"] ? configShortcuts[0]["team2_fouls_add_1"] : "";
            document.querySelector("#inputKey8").value = configShortcuts[0]["team2_fouls_rem_1"] ? configShortcuts[0]["team2_fouls_rem_1"] : "";

            document.querySelector("#inputKey12").value = configShortcuts[0]["period_add_1"] ? configShortcuts[0]["period_add_1"] : "";
            document.querySelector("#inputKey13").value = configShortcuts[0]["period_rem_1"] ? configShortcuts[0]["period_rem_1"] : "";

            document.querySelector("#inputKey16").value = configShortcuts[0]["other_clear_value"] ? configShortcuts[0]["other_clear_value"] : "";
            document.querySelector("#inputKey17").value = configShortcuts[0]["other_new_game"] ? configShortcuts[0]["other_new_game"] : "";
            document.querySelector("#inputKey18").value = configShortcuts[0]["other_hom_sound"] ? configShortcuts[0]["other_hom_sound"] : "";
            document.querySelector("#inputKey19").value = configShortcuts[0]["other_buzzer_sound"] ? configShortcuts[0]["other_buzzer_sound"] : "";

            document.querySelector("#inputKey9").value = configShortcuts[0]["main_start_stop"] ? configShortcuts[0]["main_start_stop"] : "";
            document.querySelector("#inputKey10").value = configShortcuts[0]["main_reset_time"] ? configShortcuts[0]["main_reset_time"] : "";

            document.querySelector("#inputKey22").value = configShortcuts[0]["main_rem_penalty"] ? configShortcuts[0]["main_rem_penalty"] : "";
            document.querySelector("#inputKey23").value = configShortcuts[0]["main_timeout_1"] ? configShortcuts[0]["main_timeout_1"] : "";

            document.querySelector("#inputKey24").value = configShortcuts[0]["main_timeout_2"] ? configShortcuts[0]["main_timeout_2"] : "";
            document.querySelector("#inputKey25").value = configShortcuts[0]["main_show_period"] ? configShortcuts[0]["main_show_period"] : "";

            document.querySelector("#inputKey26").value = configShortcuts[0]["desconto_tempo_visitada_ad"] ? configShortcuts[0]["desconto_tempo_visitada_ad"] : "";
            document.querySelector("#inputKey27").value = configShortcuts[0]["desconto_tempo_visitada_dim"] ? configShortcuts[0]["desconto_tempo_visitada_dim"] : "";
            document.querySelector("#inputKey28").value = configShortcuts[0]["desconto_tempo_visitante_ad"] ? configShortcuts[0]["desconto_tempo_visitante_ad"] : "";
            document.querySelector("#inputKey29").value = configShortcuts[0]["desconto_tempo_visitante_dim"] ? configShortcuts[0]["desconto_tempo_visitante_dim"] : "";

        }

        async function saveConfigSetup() {

            const db = new sqlite3.Database('./scoreboard.sqlite');

            const team1_score_add_1 = document.querySelector("#inputKey1")?.value || "";
            const team1_score_rem_1 = document.querySelector("#inputKey2")?.value || "";
            const team1_fouls_add_1 = document.querySelector("#inputKey3")?.value || "";
            const team1_fouls_rem_1 = document.querySelector("#inputKey4")?.value || "";

            const shotclock_reset = document.querySelector("#inputKey11")?.value || "";

            const goal_team_1 = document.querySelector("#inputKey14")?.value || "";
            const goal_team_2 = document.querySelector("#inputKey15")?.value || "";

            const team2_score_add_1 = document.querySelector("#inputKey5")?.value || "";
            const team2_score_rem_1 = document.querySelector("#inputKey6")?.value || "";
            const team2_fouls_add_1 = document.querySelector("#inputKey7")?.value || "";
            const team2_fouls_rem_1 = document.querySelector("#inputKey8")?.value || "";

            const period_add_1 = document.querySelector("#inputKey12")?.value || "";
            const period_rem_1 = document.querySelector("#inputKey13")?.value || "";

            const other_clear_value = document.querySelector("#inputKey16")?.value || "";
            const other_new_game = document.querySelector("#inputKey17")?.value || "";
            const other_hom_sound = document.querySelector("#inputKey18")?.value || "";
            const other_buzzer_sound = document.querySelector("#inputKey19")?.value || "";

            const main_start_stop = document.querySelector("#inputKey9")?.value || "";
            const main_reset_time = document.querySelector("#inputKey10")?.value || "";

            const main_rem_penalty = document.querySelector("#inputKey22")?.value || "";
            const main_timeout_1 = document.querySelector("#inputKey23")?.value || "";

            const main_timeout_2 = document.querySelector("#inputKey24")?.value || "";
            const main_show_period = document.querySelector("#inputKey25")?.value || "";

            const visitada_tempo_ad = document.querySelector("#inputKey26")?.value || "";
            const visitada_tempo_dim = document.querySelector("#inputKey27")?.value || "";
            const visitante_tempo_ad = document.querySelector("#inputKey28")?.value || "";
            const visitante_tempo_dim = document.querySelector("#inputKey29")?.value || "";

            const query = `
                UPDATE config_shortcuts
                SET 
                    team1_score_add_1 = '${team1_score_add_1}',
                    team1_score_rem_1 = '${team1_score_rem_1}',
                    team1_fouls_add_1 = '${team1_fouls_add_1}',
                    team1_fouls_rem_1 = '${team1_fouls_rem_1}',
                    shotclock_reset = '${shotclock_reset}',
                    goal_team_1 = '${goal_team_1}',
                    goal_team_2 = '${goal_team_2}',
                    team2_score_add_1 = '${team2_score_add_1}',
                    team2_score_rem_1 = '${team2_score_rem_1}',
                    team2_fouls_add_1 = '${team2_fouls_add_1}',
                    team2_fouls_rem_1 = '${team2_fouls_rem_1}',
                    period_add_1 = '${period_add_1}',
                    period_rem_1 = '${period_rem_1}',
                    other_clear_value = '${other_clear_value}',
                    other_new_game = '${other_new_game}',
                    other_hom_sound = '${other_hom_sound}',
                    other_buzzer_sound = '${other_buzzer_sound}',
                    main_start_stop = '${main_start_stop}',
                    main_reset_time = '${main_reset_time}',
                    main_rem_penalty = '${main_rem_penalty}',
                    main_timeout_1 = '${main_timeout_1}',
                    main_timeout_2 = '${main_timeout_2}',
                    main_show_period = '${main_show_period}',
                    desconto_tempo_visitada_ad = '${visitada_tempo_ad}',
                    desconto_tempo_visitada_dim = '${visitada_tempo_dim}',
                    desconto_tempo_visitante_ad = '${visitante_tempo_ad}',
                    desconto_tempo_visitante_dim = '${visitante_tempo_dim}'
                WHERE id = 1
            `;

            _ = await db.run(query,
                function (err) {
                    if (err) {
                        ipcRenderer.send('send-alert', 'Falha ao salvar configurações, tente novamente.');
                        console.error(err);
                        return;
                    }
                    // alert("Configurações salvar com sucesso.");
                    getConfigShortcuts();
                });

            db.close();
            ipcRenderer.send('reload');
        }

        document.getElementById('btn-cancelar-config-shortcuts').addEventListener('click', function () {
            setConfigShortcuts();
        });

        document.getElementById('btn-confirma-config-shortcuts').addEventListener('click', function () {
            saveConfigSetup();
        });

    </script>

    <script>
        window.onload = function () {
            getConfigShortcuts();
        }

        function openTab(tabName, elem) {
            window.location.href = tabName + ".html";
        }

        function retornar() {
            if (confirm("Você tem certeza que deseja reiniciar tudo?\n\n" +
                "Clique em OK para salvar as alterações e reiniciar.\n" +
                "Clique em Cancelar caso não deseje reiniciar.")) {
                ipcRenderer.send("closeWindowConfig", true);
            } else {
                ipcRenderer.send("closeWindowConfig", false);
            }
        }

    </script>

</body>

</html>